import{c as L,r as m,j as e,D as C,B as v}from"./index-DwH2koU-.js";import{M as F}from"./Modal-CChU8ZLg.js";import{X as G}from"./x-BNpd7WcG.js";import{S as E}from"./search-C5MJdETT.js";import{P as I}from"./plus-0EBTAZyH.js";import{T as M}from"./trash-2-BKVHqOXb.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=L("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),A=["PlayStation 5","Xbox Series X","Nintendo Switch"],U=["Action","Adventure","RPG","Sports","Strategy","Racing","Fighting"],O=["3+","7+","12+","16+","18+"];function T({onSubmit:y,initialData:a}){const[s,p]=m.useState({title:"",description:"",console:"",price:"",imageUrl:"",genre:"",releaseYear:"",ageRating:"",publisher:"",isDigital:!1,...a}),[g,b]=m.useState(null),[w,j]=m.useState((a==null?void 0:a.imageUrl)||""),[t,x]=m.useState({}),u=o=>{const{name:n,value:N,type:f,checked:c}=o.target;p(r=>({...r,[n]:f==="checkbox"?c:N})),t[n]&&x(r=>({...r,[n]:""}))},S=o=>{const n=o.target.files[0];if(n){if(n.size>5*1024*1024){x(f=>({...f,image:"Размер файла не должен превышать 5MB"}));return}if(!["image/jpeg","image/png","image/jpg"].includes(n.type)){x(f=>({...f,image:"Поддерживаются только форматы JPG и PNG"}));return}b(n);const N=new FileReader;N.onloadend=()=>{j(N.result)},N.readAsDataURL(n),t.image&&x(f=>({...f,image:""}))}},k=o=>{o.preventDefault();const n={};if(s.title.trim()||(n.title="Введите название игры"),s.description.trim()||(n.description="Введите описание игры"),(!s.price||s.price<=0)&&(n.price="Введите корректную цену"),s.console||(n.console="Выберите консоль"),s.genre||(n.genre="Выберите жанр"),s.ageRating||(n.ageRating="Выберите возрастной рейтинг"),s.publisher.trim()||(n.publisher="Введите издателя"),!a&&!g&&(n.image="Добавьте изображение"),Object.keys(n).length>0){x(n);return}const N=new FormData;Object.keys(s).forEach(f=>{N.append(f,s[f])}),g&&N.append("image",g),y(N)};return e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Название игры"}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:u,className:`input w-full ${t.title?"border-red-500":""}`}),t.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Консоль"}),e.jsxs("select",{name:"console",value:s.console,onChange:u,className:`input w-full ${t.console?"border-red-500":""}`,children:[e.jsx("option",{value:"",children:"Выберите консоль"}),A.map(o=>e.jsx("option",{value:o,children:o},o))]}),t.console&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.console})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Цена"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",name:"price",value:s.price,onChange:u,min:"0",className:`input w-full pl-8 ${t.price?"border-red-500":""}`}),e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"₽"})]}),t.price&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Жанр"}),e.jsxs("select",{name:"genre",value:s.genre,onChange:u,className:"input w-full",children:[e.jsx("option",{value:"",children:"Выберите жанр"}),U.map(o=>e.jsx("option",{value:o,children:o},o))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Описание"}),e.jsx("textarea",{name:"description",value:s.description,onChange:u,rows:"4",className:`input w-full ${t.description?"border-red-500":""}`}),t.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Возрастной рейтинг"}),e.jsxs("select",{name:"ageRating",value:s.ageRating,onChange:u,className:"input w-full",children:[e.jsx("option",{value:"",children:"Выберите рейтинг"}),O.map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Издатель"}),e.jsx("input",{type:"text",name:"publisher",value:s.publisher,onChange:u,className:"input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Год выпуска"}),e.jsx("input",{type:"number",name:"releaseYear",value:s.releaseYear,onChange:u,min:"1990",max:new Date().getFullYear(),className:"input w-full"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isDigital",name:"isDigital",checked:s.isDigital,onChange:o=>p({...s,isDigital:o.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"isDigital",className:"text-sm font-medium text-gray-700",children:"Цифровая версия"})]}),s.isDigital&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:'После создания игры не забудьте добавить цифровые ключи в разделе "Цифровые ключи"'})})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Изображение"}),e.jsxs("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:[w?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:w,alt:"Preview",className:"max-h-64 rounded-md"}),e.jsx("button",{type:"button",onClick:()=>{b(null),j("")},className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full transform translate-x-1/2 -translate-y-1/2",children:e.jsx(G,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("div",{className:"flex text-sm text-gray-600",children:e.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:"Загрузить изображение"}),e.jsx("input",{type:"file",className:"sr-only",accept:"image/*",onChange:S})]})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG до 5MB"})]}),t.image&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.image})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:a?"Обновить":"Создать"})]})}function _(){const[y,a]=m.useState(""),[s,p]=m.useState(!1),[g,b]=m.useState(null),[w,j]=m.useState(!1),[t,x]=m.useState(null),[u,S]=m.useState([]),[k,o]=m.useState(!1),n=async()=>{o(!0);try{const i=await C.getGames();S(i)}catch(i){console.error("Ошибка загрузки игр:",i),v.error("Ошибка при загрузке игр")}finally{o(!1)}};m.useEffect(()=>{n()},[]);const N=u.filter(i=>i.title.toLowerCase().includes(y.toLowerCase())),f=()=>{b(null),p(!0)},c=i=>{b(i),p(!0)},r=i=>{x(i),j(!0)},d=async()=>{if(t)try{await C.deleteGame(t._id),await n(),v.success("Игра успешно удалена")}catch(i){console.error("Ошибка при удалении:",i),v.error("Ошибка при удалении игры")}finally{j(!1),x(null)}},h=async i=>{try{g?(await C.updateGame(g._id,i),v.success("Игра успешно обновлена")):(await C.createGame(i),v.success("Игра успешно добавлена")),await n(),p(!1),b(null)}catch(l){console.error("Ошибка при сохранении:",l),v.error(l.message||"Ошибка при сохранении игры")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Поиск игр...",value:y,onChange:i=>a(i.target.value),className:"input pl-10"}),e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsxs("button",{onClick:f,className:"btn btn-primary flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Добавить игру"]})]}),k?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(i=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9",children:e.jsx("img",{src:i.imageUrl?`http://localhost:3000/api/${i.imageUrl}`:"/placeholder-image.png",alt:i.title,className:"w-full h-48 object-cover",onError:l=>{l.target.onerror=null,l.target.src="/placeholder-image.png"}})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:i.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-lg font-bold",children:["₽",i.price]}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:i.console})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c(i),className:"p-2 text-blue-600 hover:text-blue-800 transition-colors",children:e.jsx($,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>r(i),className:"p-2 text-red-600 hover:text-red-800 transition-colors",children:e.jsx(M,{className:"h-5 w-5"})})]})]})]})]},i._id))}),e.jsx(F,{isOpen:s,onClose:()=>{p(!1),b(null)},title:`${g?"Редактировать":"Добавить"} игру`,children:e.jsx(T,{onSubmit:h,initialData:g})}),e.jsx(F,{isOpen:w,onClose:()=>{j(!1),x(null)},title:"Подтверждение удаления",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"mb-6",children:['Вы уверены, что хотите удалить игру "',t==null?void 0:t.title,'"?']}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>{j(!1),x(null)},children:"Отмена"}),e.jsx("button",{className:"btn btn-danger",onClick:d,children:"Удалить"})]})]})})]})}const B=["new","excellent","good","fair"],z={new:"Новая",excellent:"Отличное",good:"Хорошее",fair:"Удовлетворительное"};function J({onSubmit:y,initialData:a=null}){const[s,p]=m.useState({title:(a==null?void 0:a.title)||"",description:(a==null?void 0:a.description)||"",pricePerDay:(a==null?void 0:a.pricePerDay)||"",condition:(a==null?void 0:a.condition)||"new",serialNumber:(a==null?void 0:a.serialNumber)||"",accessories:(a==null?void 0:a.accessories)||[]}),[g,b]=m.useState(null),[w,j]=m.useState((a==null?void 0:a.imageUrl)||""),[t,x]=m.useState({}),u=c=>{const{name:r,value:d}=c.target;p(h=>({...h,[r]:d})),t[r]&&x(h=>({...h,[r]:""}))},S=c=>{const r=c.target.files[0];if(r){if(r.size>5*1024*1024){x(h=>({...h,image:"Размер файла не должен превышать 5MB"}));return}if(!["image/jpeg","image/png","image/jpg"].includes(r.type)){x(h=>({...h,image:"Поддерживаются только форматы JPG и PNG"}));return}b(r);const d=new FileReader;d.onloadend=()=>{j(d.result)},d.readAsDataURL(r)}},k=()=>{p(c=>({...c,accessories:[...c.accessories,""]}))},o=(c,r)=>{const d=[...s.accessories];d[c]=r,p(h=>({...h,accessories:d}))},n=c=>{p(r=>({...r,accessories:r.accessories.filter((d,h)=>h!==c)}))},N=()=>{var r;const c={};return s.title||(c.title="Введите название консоли"),(!s.pricePerDay||isNaN(s.pricePerDay)||s.pricePerDay<=0)&&(c.pricePerDay="Укажите корректную цену за день"),(r=s.description)!=null&&r.trim()||(c.description="Описание обязательно"),c},f=c=>{c.preventDefault();const r=N();if(Object.keys(r).length>0){x(r);return}const d=new FormData;d.append("title",s.title||""),d.append("description",s.description||""),d.append("pricePerDay",s.pricePerDay||""),d.append("condition",s.condition||"new"),d.append("serialNumber",s.serialNumber||""),s.accessories&&s.accessories.length>0&&d.append("accessories",JSON.stringify(s.accessories)),g&&d.append("image",g),console.log("Отправляемые данные:");for(let h of d.entries())console.log(h[0]+": "+h[1]);y(d)};return e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Название консоли"}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:u,className:`input w-full ${t.title?"border-red-500":""}`}),t.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Цена за день"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",name:"pricePerDay",value:s.pricePerDay,onChange:u,min:"0",className:`input w-full pl-8 ${t.pricePerDay?"border-red-500":""}`}),e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"₽"})]}),t.pricePerDay&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.pricePerDay})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Состояние"}),e.jsx("select",{name:"condition",value:s.condition,onChange:u,className:"input w-full",children:B.map(c=>e.jsx("option",{value:c,children:z[c]},c))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Серийный номер"}),e.jsx("input",{type:"text",name:"serialNumber",value:s.serialNumber,onChange:u,className:"input w-full"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Описание"}),e.jsx("textarea",{name:"description",value:s.description,onChange:u,rows:"4",className:`input w-full ${t.description?"border-red-500":""}`}),t.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Комплектация"}),e.jsxs("div",{className:"space-y-2",children:[s.accessories.map((c,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c,onChange:d=>o(r,d.target.value),className:"input flex-1",placeholder:"Название аксессуара"}),e.jsx("button",{type:"button",onClick:()=>n(r),className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(G,{className:"h-5 w-5"})})]},r)),e.jsxs("button",{type:"button",onClick:k,className:"btn btn-secondary w-full flex items-center justify-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Добавить аксессуар"]})]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Изображение"}),e.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[w?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:w,alt:"Preview",className:"max-h-64 rounded-md"}),e.jsx("button",{type:"button",onClick:()=>{b(null),j("")},className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full transform translate-x-1/2 -translate-y-1/2",children:e.jsx(G,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("div",{className:"flex text-sm text-gray-600",children:e.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:"Загрузить изображение"}),e.jsx("input",{type:"file",className:"sr-only",accept:"image/*",onChange:S})]})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG до 5MB"})]})}),t.image&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.image})]}),e.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:a?"Сохранить":"Добавить"})})]})}function Y(){const[y,a]=m.useState(""),[s,p]=m.useState(!1),[g,b]=m.useState(null),[w,j]=m.useState(!1),[t,x]=m.useState(null),[u,S]=m.useState([]),[k,o]=m.useState(!1),n=async()=>{o(!0);try{const l=await C.getConsoles();S(l)}catch(l){console.error("Ошибка загрузки консолей:",l),v.error("Ошибка при загрузке консолей")}finally{o(!1)}};m.useEffect(()=>{n()},[]);const N=u.filter(l=>l.title.toLowerCase().includes(y.toLowerCase())||l.description.toLowerCase().includes(y.toLowerCase())),f=()=>{b(null),p(!0)},c=l=>{b(l),p(!0)},r=l=>{x(l),j(!0)},d=async()=>{if(t)try{await C.deleteConsole(t._id),await n(),v.success("Консоль успешно удалена")}catch(l){console.error("Ошибка при удалении:",l),v.error("Ошибка при удалении консоли")}finally{j(!1),x(null)}},h=async l=>{try{g?(await C.updateConsole(g._id,l),v.success("Консоль успешно обновлена")):(await C.createConsole(l),v.success("Консоль успешно добавлена")),await n(),p(!1),b(null)}catch(P){console.error("Ошибка при сохранении:",P),v.error(P.message||"Ошибка при сохранении консоли")}},i=l=>({new:"Новая",excellent:"Отличное",good:"Хорошее",fair:"Удовлетворительное"})[l]||l;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Поиск консолей...",value:y,onChange:l=>a(l.target.value),className:"input pl-10"}),e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsxs("button",{onClick:f,className:"btn btn-primary flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Добавить консоль"]})]}),k?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(l=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9",children:e.jsx("img",{src:l.imageUrl?`${"http://localhost:3000/api".replace("/api","")}/api/uploads/${l.imageUrl}`:"/placeholder-image.png",alt:l.title,className:"w-full h-48 object-cover",onError:P=>{l.error("Ошибка загрузки изображения:",P.target.src),P.target.onerror=null,P.target.src="/placeholder-image.png"}})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:l.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:l.description}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-bold",children:["₽",l.pricePerDay,"/день"]}),e.jsx("span",{className:"text-sm text-gray-500",children:i(l.condition)})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>c(l),className:"p-2 text-blue-600 hover:text-blue-800 transition-colors",children:e.jsx($,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>r(l),className:"p-2 text-red-600 hover:text-red-800 transition-colors",children:e.jsx(M,{className:"h-5 w-5"})})]})]})]})]},l._id))}),e.jsx(F,{isOpen:s,onClose:()=>{p(!1),b(null)},title:`${g?"Редактировать":"Добавить"} консоль`,children:e.jsx(J,{onSubmit:h,initialData:g})}),e.jsx(F,{isOpen:w,onClose:()=>{j(!1),x(null)},title:"Подтверждение удаления",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"mb-6",children:['Вы уверены, что хотите удалить консоль "',t==null?void 0:t.title,'"?']}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>{j(!1),x(null)},children:"Отмена"}),e.jsx("button",{className:"btn btn-danger",onClick:d,children:"Удалить"})]})]})})]})}function K(){const[y,a]=m.useState("games");return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>a("games"),className:`${y==="games"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium`,children:"Игры"}),e.jsx("button",{onClick:()=>a("consoles"),className:`${y==="consoles"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium`,children:"Консоли"})]})})}),y==="games"?e.jsx(_,{}):e.jsx(Y,{})]})}export{K as default};
