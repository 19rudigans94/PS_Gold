const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-B_xl87m9.js","assets/ui-vendor-BekXbpvv.js","assets/react-vendor-CmdBDJ7C.js","assets/redux-vendor-D-krhjMU.js","assets/utils-upsvKRUO.js","assets/Register-BDJmvPTe.js","assets/Home-CCa7AJ7M.js","assets/GameCard-BpYf_uYH.js","assets/Profile-DJhhXQzG.js","assets/ProtectedRoute-DASbdzZj.js","assets/AdminRoute-Bq_48kdR.js","assets/Games-CKorxxnt.js","assets/Contact-BV3V5-ta.js","assets/Cart-Cn_HIthl.js","assets/Orders-3eRYnzRZ.js","assets/Dashboard-BygDhsWP.js","assets/Users-CQwZvWXz.js","assets/Orders-Dio2Q_1c.js","assets/Catalog-DBpD98dk.js","assets/GameKeys-S9U94xCC.js","assets/Settings-BORWzfef.js","assets/AdminLayout-BiMyQkZJ.js"])))=>i.map(i=>d[i]);
import{u as _t,i as V,j as s,S as Ct,a as Et,b as Lt,B as M,L as bt,c as Tt,d as It,e as ue,f as Rt,A as Ot,C as nt,T as wt,I as Qe,D as St,g as pe,h as At,k as Pt,M as $t,l as We,m as Ke,n as kt,o as Dt,p as zt}from"./ui-vendor-BekXbpvv.js";import{d as Nt,r as c,b as C,a as Mt,u as Bt,e as Ft,L as D,O as Ht,f as Vt,N as qt,h as Gt}from"./react-vendor-CmdBDJ7C.js";import{c as T,a as J,u as ot,b as it,d as Ut,P as Qt}from"./redux-vendor-D-krhjMU.js";import{a as Wt}from"./utils-upsvKRUO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var $e={},Ye=Nt;$e.createRoot=Ye.createRoot,$e.hydrateRoot=Ye.hydrateRoot;const Kt="modulepreload",Yt=function(t){return"/"+t},Xe={},I=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(y=>{if(y=Yt(y),y in Xe)return;Xe[y]=!0;const j=y.endsWith(".css"),x=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const m=document.createElement("link");if(m.rel=j?"stylesheet":Kt,j||(m.as="script"),m.crossOrigin="",m.href=y,l&&m.setAttribute("nonce",l),document.head.appendChild(m),j)return new Promise((L,p)=>{m.addEventListener("load",L),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${y}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Xt=`${window.location.protocol}//${window.location.host}/api`,v=Wt.create({baseURL:Xt,headers:{"Content-Type":"application/json"},withCredentials:!0});v.interceptors.request.use(t=>t,t=>Promise.reject(t));v.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href="/login"),Promise.reject(t)});const ys={getAll:()=>v.get("/products"),getById:t=>v.get(`/products/${t}`),create:t=>v.post("/products",t),update:(t,e)=>v.put(`/products/${t}`,e),delete:t=>v.delete(`/products/${t}`)},xs={getAll:()=>v.get("/game-keys"),getById:t=>v.get(`/game-keys/${t}`),create:t=>v.post("/game-keys",t),update:(t,e)=>v.put(`/game-keys/${t}`,e),delete:t=>v.delete(`/game-keys/${t}`),toggleVisibility:t=>v.patch(`/game-keys/${t}/toggle-visibility`)};function lt(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=lt(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function H(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=lt(t))&&(n&&(n+=" "),n+=e);return n}const ee=t=>typeof t=="number"&&!isNaN(t),Y=t=>typeof t=="string",S=t=>typeof t=="function",ne=t=>Y(t)||S(t)?t:null,fe=t=>c.isValidElement(t)||Y(t)||S(t)||ee(t);function Jt(t,e,r){r===void 0&&(r=300);const{scrollHeight:n,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,r)})})}function de(t){let{enter:e,exit:r,appendPosition:n=!1,collapse:a=!0,collapseDuration:i=300}=t;return function(o){let{children:l,position:y,preventExitTransition:j,done:x,nodeRef:m,isIn:L}=o;const p=n?`${e}--${y}`:e,g=n?`${r}--${y}`:r,h=c.useRef(0);return c.useLayoutEffect(()=>{const f=m.current,d=p.split(" "),b=w=>{w.target===m.current&&(f.dispatchEvent(new Event("d")),f.removeEventListener("animationend",b),f.removeEventListener("animationcancel",b),h.current===0&&w.type!=="animationcancel"&&f.classList.remove(...d))};f.classList.add(...d),f.addEventListener("animationend",b),f.addEventListener("animationcancel",b)},[]),c.useEffect(()=>{const f=m.current,d=()=>{f.removeEventListener("animationend",d),a?Jt(f,x,i):x()};L||(j?d():(h.current=1,f.className+=` ${g}`,f.addEventListener("animationend",d)))},[L]),C.createElement(C.Fragment,null,l)}}function Je(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const k={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const r=this.list.get(t).filter(n=>n!==e);return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const r=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(r)})}},se=t=>{let{theme:e,type:r,...n}=t;return C.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...n})},me={info:function(t){return C.createElement(se,{...t},C.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return C.createElement(se,{...t},C.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return C.createElement(se,{...t},C.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return C.createElement(se,{...t},C.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return C.createElement("div",{className:"Toastify__spinner"})}};function Zt(t){const[,e]=c.useReducer(p=>p+1,0),[r,n]=c.useState([]),a=c.useRef(null),i=c.useRef(new Map).current,o=p=>r.indexOf(p)!==-1,l=c.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function y(p){let{containerId:g}=p;const{limit:h}=l.props;!h||g&&l.containerId!==g||(l.count-=l.queue.length,l.queue=[])}function j(p){n(g=>p==null?[]:g.filter(h=>h!==p))}function x(){const{toastContent:p,toastProps:g,staleId:h}=l.queue.shift();L(p,g,h)}function m(p,g){let{delay:h,staleId:f,...d}=g;if(!fe(p)||function($){return!a.current||l.props.enableMultiContainer&&$.containerId!==l.props.containerId||i.has($.toastId)&&$.updateId==null}(d))return;const{toastId:b,updateId:w,data:_}=d,{props:E}=l,B=()=>j(b),F=w==null;F&&l.count++;const R={...E,style:E.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(d).filter($=>{let[z,A]=$;return A!=null})),toastId:b,updateId:w,data:_,closeToast:B,isIn:!1,className:ne(d.className||E.toastClassName),bodyClassName:ne(d.bodyClassName||E.bodyClassName),progressClassName:ne(d.progressClassName||E.progressClassName),autoClose:!d.isLoading&&(G=d.autoClose,X=E.autoClose,G===!1||ee(G)&&G>0?G:X),deleteToast(){const $=Je(i.get(b),"removed");i.delete(b),k.emit(4,$);const z=l.queue.length;if(l.count=b==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),z>0){const A=b==null?l.props.limit:1;if(z===1||A===1)l.displayedToast++,x();else{const Q=A>z?z:A;l.displayedToast=Q;for(let P=0;P<Q;P++)x()}}else e()}};var G,X;R.iconOut=function($){let{theme:z,type:A,isLoading:Q,icon:P}=$,N=null;const W={theme:z,type:A};return P===!1||(S(P)?N=P(W):c.isValidElement(P)?N=c.cloneElement(P,W):Y(P)||ee(P)?N=P:Q?N=me.spinner():(re=>re in me)(A)&&(N=me[A](W))),N}(R),S(d.onOpen)&&(R.onOpen=d.onOpen),S(d.onClose)&&(R.onClose=d.onClose),R.closeButton=E.closeButton,d.closeButton===!1||fe(d.closeButton)?R.closeButton=d.closeButton:d.closeButton===!0&&(R.closeButton=!fe(E.closeButton)||E.closeButton);let U=p;c.isValidElement(p)&&!Y(p.type)?U=c.cloneElement(p,{closeToast:B,toastProps:R,data:_}):S(p)&&(U=p({closeToast:B,toastProps:R,data:_})),E.limit&&E.limit>0&&l.count>E.limit&&F?l.queue.push({toastContent:U,toastProps:R,staleId:f}):ee(h)?setTimeout(()=>{L(U,R,f)},h):L(U,R,f)}function L(p,g,h){const{toastId:f}=g;h&&i.delete(h);const d={content:p,props:g};i.set(f,d),n(b=>[...b,f].filter(w=>w!==h)),k.emit(4,Je(d,d.props.updateId==null?"added":"updated"))}return c.useEffect(()=>(l.containerId=t.containerId,k.cancelEmit(3).on(0,m).on(1,p=>a.current&&j(p)).on(5,y).emit(2,l),()=>{i.clear(),k.emit(3,l)}),[]),c.useEffect(()=>{l.props=t,l.isToastActive=o,l.displayedToast=r.length}),{getToastToRender:function(p){const g=new Map,h=Array.from(i.values());return t.newestOnTop&&h.reverse(),h.forEach(f=>{const{position:d}=f.props;g.has(d)||g.set(d,[]),g.get(d).push(f)}),Array.from(g,f=>p(f[0],f[1]))},containerRef:a,isToastActive:o}}function Ze(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function et(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function er(t){const[e,r]=c.useState(!1),[n,a]=c.useState(!1),i=c.useRef(null),o=c.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=c.useRef(t),{autoClose:y,pauseOnHover:j,closeToast:x,onClick:m,closeOnClick:L}=t;function p(_){if(t.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",d),document.addEventListener("mouseup",b),document.addEventListener("touchmove",d),document.addEventListener("touchend",b);const E=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=E.getBoundingClientRect(),E.style.transition="",o.x=Ze(_.nativeEvent),o.y=et(_.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=E.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function g(_){if(o.boundingRect){const{top:E,bottom:B,left:F,right:R}=o.boundingRect;_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=F&&o.x<=R&&o.y>=E&&o.y<=B?f():h()}}function h(){r(!0)}function f(){r(!1)}function d(_){const E=i.current;o.canDrag&&E&&(o.didMove=!0,e&&f(),o.x=Ze(_),o.y=et(_),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),E.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,E.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",b);const _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),void t.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${t.draggableDirection}(0)`,_.style.opacity="1"}}c.useEffect(()=>{l.current=t}),c.useEffect(()=>(i.current&&i.current.addEventListener("d",h,{once:!0}),S(t.onOpen)&&t.onOpen(c.isValidElement(t.children)&&t.children.props),()=>{const _=l.current;S(_.onClose)&&_.onClose(c.isValidElement(_.children)&&_.children.props)}),[]),c.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||f(),window.addEventListener("focus",h),window.addEventListener("blur",f)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",h),window.removeEventListener("blur",f))}),[t.pauseOnFocusLoss]);const w={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return y&&j&&(w.onMouseEnter=f,w.onMouseLeave=h),L&&(w.onClick=_=>{m&&m(_),o.canCloseOnClick&&x()}),{playToast:h,pauseToast:f,isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:w}}function dt(t){let{closeToast:e,theme:r,ariaLabel:n="close"}=t;return C.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:a=>{a.stopPropagation(),e(a)},"aria-label":n},C.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},C.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tr(t){let{delay:e,isRunning:r,closeToast:n,type:a="default",hide:i,className:o,style:l,controlledProgress:y,progress:j,rtl:x,isIn:m,theme:L}=t;const p=i||y&&j===0,g={...l,animationDuration:`${e}ms`,animationPlayState:r?"running":"paused",opacity:p?0:1};y&&(g.transform=`scaleX(${j})`);const h=H("Toastify__progress-bar",y?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${L}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":x}),f=S(o)?o({rtl:x,type:a,defaultClassName:h}):H(h,o);return C.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:f,style:g,[y&&j>=1?"onTransitionEnd":"onAnimationEnd"]:y&&j<1?null:()=>{m&&n()}})}const rr=t=>{const{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:a}=er(t),{closeButton:i,children:o,autoClose:l,onClick:y,type:j,hideProgressBar:x,closeToast:m,transition:L,position:p,className:g,style:h,bodyClassName:f,bodyStyle:d,progressClassName:b,progressStyle:w,updateId:_,role:E,progress:B,rtl:F,toastId:R,deleteToast:G,isIn:X,isLoading:U,iconOut:$,closeOnClick:z,theme:A}=t,Q=H("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${j}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":z}),P=S(g)?g({rtl:F,position:p,type:j,defaultClassName:Q}):H(Q,g),N=!!B||!l,W={closeToast:m,type:j,theme:A};let re=null;return i===!1||(re=S(i)?i(W):c.isValidElement(i)?c.cloneElement(i,W):dt(W)),C.createElement(L,{isIn:X,done:G,position:p,preventExitTransition:r,nodeRef:n},C.createElement("div",{id:R,onClick:y,className:P,...a,style:h,ref:n},C.createElement("div",{...X&&{role:E},className:S(f)?f({type:j}):H("Toastify__toast-body",f),style:d},$!=null&&C.createElement("div",{className:H("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},$),C.createElement("div",null,o)),re,C.createElement(tr,{..._&&!N?{key:`pb-${_}`}:{},rtl:F,theme:A,delay:l,isRunning:e,isIn:X,closeToast:m,hide:x,type:j,style:w,className:b,controlledProgress:N,progress:B||0})))},ce=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},sr=de(ce("bounce",!0));de(ce("slide",!0));de(ce("zoom"));de(ce("flip"));const ke=c.forwardRef((t,e)=>{const{getToastToRender:r,containerRef:n,isToastActive:a}=Zt(t),{className:i,style:o,rtl:l,containerId:y}=t;function j(x){const m=H("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":l});return S(i)?i({position:x,rtl:l,defaultClassName:m}):H(m,ne(i))}return c.useEffect(()=>{e&&(e.current=n.current)},[]),C.createElement("div",{ref:n,className:"Toastify",id:y},r((x,m)=>{const L=m.length?{...o}:{...o,pointerEvents:"none"};return C.createElement("div",{className:j(x),style:L,key:`container-${x}`},m.map((p,g)=>{let{content:h,props:f}=p;return C.createElement(rr,{...f,isIn:a(f.toastId),style:{...f.style,"--nth":g+1,"--len":m.length},key:`toast-${f.key}`},h)}))}))});ke.displayName="ToastContainer",ke.defaultProps={position:"top-right",transition:sr,autoClose:5e3,closeButton:dt,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ge,K=new Map,Z=[],ar=1;function ct(){return""+ar++}function nr(t){return t&&(Y(t.toastId)||ee(t.toastId))?t.toastId:ct()}function te(t,e){return K.size>0?k.emit(0,t,e):Z.push({content:t,options:e}),e.toastId}function le(t,e){return{...e,type:e&&e.type||t,toastId:nr(e)}}function ae(t){return(e,r)=>te(e,le(t,r))}function u(t,e){return te(t,le("default",e))}u.loading=(t,e)=>te(t,le("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),u.promise=function(t,e,r){let n,{pending:a,error:i,success:o}=e;a&&(n=Y(a)?u.loading(a,r):u.loading(a.render,{...r,...a}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},y=(x,m,L)=>{if(m==null)return void u.dismiss(n);const p={type:x,...l,...r,data:L},g=Y(m)?{render:m}:m;return n?u.update(n,{...p,...g}):u(g.render,{...p,...g}),L},j=S(t)?t():t;return j.then(x=>y("success",o,x)).catch(x=>y("error",i,x)),j},u.success=ae("success"),u.info=ae("info"),u.error=ae("error"),u.warning=ae("warning"),u.warn=u.warning,u.dark=(t,e)=>te(t,le("default",{theme:"dark",...e})),u.dismiss=t=>{K.size>0?k.emit(1,t):Z=Z.filter(e=>t!=null&&e.options.toastId!==t)},u.clearWaitingQueue=function(t){return t===void 0&&(t={}),k.emit(5,t)},u.isActive=t=>{let e=!1;return K.forEach(r=>{r.isToastActive&&r.isToastActive(t)&&(e=!0)}),e},u.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const r=function(n,a){let{containerId:i}=a;const o=K.get(i||ge);return o&&o.getToast(n)}(t,e);if(r){const{props:n,content:a}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:ct()};i.toastId!==t&&(i.staleId=t);const o=i.render||a;delete i.render,te(o,i)}},0)},u.done=t=>{u.update(t,{progress:1})},u.onChange=t=>(k.on(4,t),()=>{k.off(4,t)}),u.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},u.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},k.on(2,t=>{ge=t.containerId||t,K.set(ge,t),Z.forEach(e=>{k.emit(0,e.content,e.options)}),Z=[]}).on(3,t=>{K.delete(t.containerId||t),K.size===0&&k.off(0).off(1).off(5)});const or={user:null,isAuthenticated:!1,isAdmin:!1,isLoading:!1,initialized:!1,error:null},he=T("auth/updateProfile",async(t,{rejectWithValue:e})=>{var r,n;try{return(await v.put("/users/profile",t)).data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка обновления профиля")}}),ye=T("auth/register",async(t,{rejectWithValue:e})=>{var r,n;try{return(await v.post("/auth/register",t)).data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка регистрации")}}),xe=T("auth/login",async(t,{rejectWithValue:e})=>{var r,n;try{return(await v.post("/auth/login",t)).data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка входа")}}),oe=T("auth/logout",async(t,{rejectWithValue:e})=>{var r,n;try{return(await v.post("/auth/logout")).data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка выхода")}}),ie=T("auth/checkStatus",async(t,{rejectWithValue:e})=>{var r,n;try{return(await v.get("/auth/me")).data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка проверки статуса")}}),ut=J({name:"auth",initialState:or,reducers:{setInitialized:(t,e)=>{t.initialized=e.payload},resetError:t=>{t.error=null}},extraReducers:t=>{t.addCase(ye.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ye.fulfilled,(e,r)=>{r.payload.success?(e.isLoading=!1,e.error=null,u.success("Успешная регистрация")):(e.isLoading=!1,e.error=r.payload.message||"Неизвестная ошибка",u.error(e.error))}).addCase(ye.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,u.error(r.payload)}).addCase(xe.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xe.fulfilled,(e,r)=>{var n;r.payload.success&&((n=r.payload.data)!=null&&n.user)?(e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload.data.user,e.isAdmin=r.payload.data.user.role==="admin",e.error=null,u.success("Успешный вход в систему")):(e.isLoading=!1,e.error=r.payload.message||"Неизвестная ошибка",u.error(e.error))}).addCase(xe.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,e.isAuthenticated=!1,e.user=null,e.isAdmin=!1,u.error(r.payload)}).addCase(oe.pending,e=>{e.isLoading=!0}).addCase(oe.fulfilled,e=>{e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.isAdmin=!1,e.error=null,u.success("Успешный выход из системы")}).addCase(oe.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,u.error(r.payload)}).addCase(ie.pending,e=>{e.isLoading=!0}).addCase(ie.fulfilled,(e,r)=>{var n;r.payload.success&&((n=r.payload.data)!=null&&n.user)?(e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload.data.user,e.isAdmin=r.payload.data.user.role==="admin",e.error=null):(e.isLoading=!1,e.error=r.payload.message||"Неизвестная ошибка")}).addCase(ie.rejected,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.isAdmin=!1,e.error=r.payload}).addCase(he.pending,e=>{e.isLoading=!0,e.error=null}).addCase(he.fulfilled,(e,r)=>{r.payload.success?(e.isLoading=!1,e.error=null,e.user=r.payload.data.user,u.success("Успешное обновление профиля")):(e.isLoading=!1,e.error=r.payload.message||"Неизвестная ошибка",u.error(e.error))}).addCase(he.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,u.error(r.payload)})}}),{setInitialized:tt,resetError:vs}=ut.actions,ir=ut.reducer;var Ne={},ve={};const lr=Mt(_t);var rt;function q(){return rt||(rt=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=lr}(ve)),ve}var dr=V;Object.defineProperty(Ne,"__esModule",{value:!0});var pt=Ne.default=void 0,cr=dr(q()),ur=s;pt=Ne.default=(0,cr.default)((0,ur.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Me={},pr=V;Object.defineProperty(Me,"__esModule",{value:!0});var De=Me.default=void 0,fr=pr(q()),mr=s;De=Me.default=(0,fr.default)((0,mr.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart");var Be={},gr=V;Object.defineProperty(Be,"__esModule",{value:!0});var ft=Be.default=void 0,hr=gr(q()),yr=s;ft=Be.default=(0,hr.default)((0,yr.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var Fe={},xr=V;Object.defineProperty(Fe,"__esModule",{value:!0});var mt=Fe.default=void 0,vr=xr(q()),jr=s;mt=Fe.default=(0,vr.default)((0,jr.jsx)("path",{d:"m21.58 16.09-1.09-7.66C20.21 6.46 18.52 5 16.53 5H7.47C5.48 5 3.79 6.46 3.51 8.43l-1.09 7.66C2.2 17.63 3.39 19 4.94 19c.68 0 1.32-.27 1.8-.75L9 16h6l2.25 2.25c.48.48 1.13.75 1.8.75 1.56 0 2.75-1.37 2.53-2.91M11 11H9v2H8v-2H6v-1h2V8h1v2h2zm4-1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m2 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"SportsEsports");var He={},_r=V;Object.defineProperty(He,"__esModule",{value:!0});var gt=He.default=void 0,Cr=_r(q()),Er=s;gt=He.default=(0,Cr.default)((0,Er.jsx)("path",{d:"M11.5 2C6.81 2 3 5.81 3 10.5S6.81 19 11.5 19h.5v3c4.86-2.34 8-7 8-11.5C20 5.81 16.19 2 11.5 2m1 14.5h-2v-2h2zm0-3.5h-2c0-3.25 3-3 3-5 0-1.1-.9-2-2-2s-2 .9-2 2h-2c0-2.21 1.79-4 4-4s4 1.79 4 4c0 2.5-3 2.75-3 5"}),"ContactSupport");var Ve={},Lr=V;Object.defineProperty(Ve,"__esModule",{value:!0});var ht=Ve.default=void 0,br=Lr(q()),Tr=s;ht=Ve.default=(0,br.default)((0,Tr.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");var qe={},Ir=V;Object.defineProperty(qe,"__esModule",{value:!0});var ze=qe.default=void 0,Rr=Ir(q()),Or=s;ze=qe.default=(0,Rr.default)((0,Or.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Ge={},wr=V;Object.defineProperty(Ge,"__esModule",{value:!0});var yt=Ge.default=void 0,Sr=wr(q()),Ar=s;yt=Ge.default=(0,Sr.default)((0,Ar.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");const Pr=t=>s.jsx(Ct,{...t,children:s.jsx("path",{d:"M21.58,16.09l-1.09-7.66C20.21,6.46,18.52,5,16.53,5H7.47C5.48,5,3.79,6.46,3.51,8.43l-1.09,7.66 C2.2,17.63,3.39,19,4.94,19h0c0.68,0,1.32-0.27,1.8-0.75L9,16h6l2.25,2.25c0.48,0.48,1.13,0.75,1.8,0.75h0 C20.61,19,21.8,17.63,21.58,16.09z M11,11H9v2H8v-2H6v-1h2V8h1v2h2V11z M15,10c-0.55,0-1-0.45-1-1c0-0.55,0.45-1,1-1s1,0.45,1,1 C16,9.55,15.55,10,15,10z M17,13c-0.55,0-1-0.45-1-1c0-0.55,0.45-1,1-1s1,0.45,1,1C18,12.55,17.55,13,17,13z"})});function je(){return s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsx(Pr,{sx:{fontSize:"2rem",mr:1,color:"transparent",background:"linear-gradient(45deg, #FFD700, #FFA500)",backgroundClip:"text",WebkitBackgroundClip:"text",filter:"drop-shadow(0 0 2px rgba(255, 215, 0, 0.5))","& path":{fill:"url(#gold-gradient)"}}}),s.jsx("svg",{width:"0",height:"0",children:s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gold-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",style:{stopColor:"#FFD700"}}),s.jsx("stop",{offset:"100%",style:{stopColor:"#FFA500"}})]})})}),s.jsx("span",{style:{background:"linear-gradient(45deg, #FFD700, #FFA500)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent",fontSize:"1.5rem",fontWeight:"bold",textShadow:"0 0 2px rgba(255, 215, 0, 0.3)"},children:"GameGold"})]})}function $r(){var f;const t=Et();Lt(t.breakpoints.down("md"));const e=Bt(),r=Ft(),n=ot(),{user:a}=it(d=>d.auth);c.useState(null);const[i,o]=c.useState(null),[l,y]=c.useState(!1),j=d=>{o(d.currentTarget)},x=()=>{o(null)},m=()=>{y(!l)},L=async()=>{try{await n(oe()).unwrap(),e("/"),u.success("Вы успешно вышли из системы")}catch(d){u.error(d.message||"Ошибка при выходе из системы")}x()},p=[{label:"Главная",path:"/",icon:s.jsx(ft,{})},{label:"Игры",path:"/games",icon:s.jsx(mt,{})},{label:"Контакты",path:"/contact",icon:s.jsx(gt,{})},...a?[{label:"Корзина",path:"/cart",icon:s.jsx(Dt,{badgeContent:0,color:"error",children:s.jsx(De,{})})}]:[]],g=[{label:"Профиль",path:"/profile",icon:s.jsx(ze,{})},{label:"Мои заказы",path:"/orders",icon:s.jsx(De,{})},...((f=a==null?void 0:a.role)==null?void 0:f.toLowerCase())==="admin"?[{label:"Админ панель",path:"/admin/dashboard",icon:s.jsx(ht,{})}]:[]],h=s.jsxs(M,{onClick:m,sx:{textAlign:"center"},children:[s.jsx(M,{sx:{my:2},children:s.jsx(D,{to:"/",style:{textDecoration:"none",color:"inherit"},children:s.jsx(je,{})})}),s.jsx(bt,{children:p.map(d=>s.jsx(Tt,{disablePadding:!0,children:s.jsxs(It,{component:D,to:d.path,selected:r.pathname===d.path,sx:{textAlign:"left","&.Mui-selected":{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}}},children:[s.jsx(ue,{sx:{color:r.pathname===d.path?"white":"inherit"},children:d.icon}),s.jsx(Rt,{primary:d.label})]})},d.path))})]});return s.jsx(Ot,{position:"sticky",elevation:1,sx:{bgcolor:"background.paper",color:"text.primary"},children:s.jsx(nt,{maxWidth:"xl",children:s.jsxs(wt,{disableGutters:!0,children:[s.jsx(M,{sx:{display:{xs:"none",md:"flex"},mr:2},children:s.jsx(D,{to:"/",style:{textDecoration:"none",color:"inherit"},children:s.jsx(je,{})})}),s.jsxs(M,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[s.jsx(Qe,{size:"large","aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:m,color:"inherit",children:s.jsx(pt,{})}),s.jsx(St,{anchor:t.direction==="rtl"?"right":"left",open:l,onClose:m,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240,bgcolor:"background.paper"}},children:h})]}),s.jsx(M,{sx:{flexGrow:1,display:{xs:"flex",md:"none"},justifyContent:"center"},children:s.jsx(D,{to:"/",style:{textDecoration:"none",color:"inherit"},children:s.jsx(je,{})})}),s.jsx(M,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},justifyContent:"center"},children:p.map(d=>s.jsx(pe,{component:D,to:d.path,startIcon:d.icon,sx:{my:2,mx:1,color:r.pathname===d.path?"primary.main":"text.primary",backgroundColor:r.pathname===d.path?"action.selected":"transparent","&:hover":{backgroundColor:"action.hover"}},children:d.label},d.path))}),s.jsx(M,{sx:{flexGrow:0,display:"flex",alignItems:"center",gap:1},children:a?s.jsxs(s.Fragment,{children:[s.jsx(At,{title:"Меню пользователя",children:s.jsx(Qe,{onClick:j,children:s.jsx(Pt,{alt:a.name,src:a.avatar,sx:{width:40,height:40},children:!a.avatar&&a.name?a.name[0].toUpperCase():s.jsx(ze,{})})})}),s.jsxs($t,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!i,onClose:x,children:[g.map(d=>s.jsxs(We,{component:D,to:d.path,onClick:x,selected:r.pathname===d.path,children:[s.jsx(ue,{children:d.icon}),s.jsx(Ke,{children:d.label})]},d.path)),s.jsx(kt,{}),s.jsxs(We,{onClick:L,children:[s.jsx(ue,{children:s.jsx(yt,{})}),s.jsx(Ke,{children:"Выйти"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(pe,{component:D,to:"/login",variant:"outlined",color:"primary",size:"small",children:"Войти"}),s.jsx(pe,{component:D,to:"/register",variant:"contained",color:"primary",size:"small",children:"Регистрация"})]})})]})})})}function kr(){return s.jsx("footer",{className:"bg-gray-800 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"О компании"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"GameGold - ваш надежный магазин цифровых копий игр. Мы предлагаем широкий выбор игр по доступным ценам."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Быстрые ссылки"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(D,{to:"/games",className:"text-gray-300 hover:text-white transition-colors",children:"Каталог игр"})}),s.jsx("li",{children:s.jsx(D,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors",children:"Контакты"})}),s.jsx("li",{children:s.jsx(D,{to:"/profile",className:"text-gray-300 hover:text-white transition-colors",children:"Личный кабинет"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Поддержка"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"FAQ"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Правила использования"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Политика конфиденциальности"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Контакты"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{className:"text-gray-300",children:"Email: support@gamegold.com"}),s.jsx("li",{className:"text-gray-300",children:"Телефон: +7 (999) 123-45-67"})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-300",children:s.jsxs("p",{children:["© ",new Date().getFullYear()," GameGold. Все права защищены."]})})]})})}function Ue(){return s.jsx(M,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:s.jsx(zt,{})})}function Dr(){return s.jsxs(M,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh",bgcolor:"background.default"},children:[s.jsx($r,{}),s.jsx(nt,{component:"main",sx:{flexGrow:1,py:4,px:{xs:2,sm:4},mt:{xs:2,sm:4}},maxWidth:"lg",children:s.jsx(c.Suspense,{fallback:s.jsx(Ue,{}),children:s.jsx(Ht,{})})}),s.jsx(kr,{})]})}function O({children:t}){return s.jsx(c.Suspense,{fallback:s.jsx(Ue,{}),children:t})}function st({children:t}){const e=ot(),{initialized:r,isAuthenticated:n}=it(a=>a.auth);return c.useEffect(()=>{localStorage.getItem("token")&&!r?e(ie()).unwrap().catch(()=>{localStorage.removeItem("token"),e(tt(!0))}):r||e(tt(!0))},[e,r]),r?t:s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx(Ue,{})})}const zr=c.lazy(()=>I(()=>import("./Login-B_xl87m9.js"),__vite__mapDeps([0,1,2,3,4]))),Nr=c.lazy(()=>I(()=>import("./Register-BDJmvPTe.js"),__vite__mapDeps([5,1,2,3,4]))),Mr=c.lazy(()=>I(()=>import("./Home-CCa7AJ7M.js"),__vite__mapDeps([6,1,2,7,3,4]))),Br=c.lazy(()=>I(()=>import("./Profile-DJhhXQzG.js"),__vite__mapDeps([8,1,2,3,4]))),_e=c.lazy(()=>I(()=>import("./ProtectedRoute-DASbdzZj.js"),__vite__mapDeps([9,1,2,3,4]))),Fr=c.lazy(()=>I(()=>import("./AdminRoute-Bq_48kdR.js"),__vite__mapDeps([10,1,2,3,4]))),Hr=c.lazy(()=>I(()=>import("./Games-CKorxxnt.js"),__vite__mapDeps([11,1,2,3,7,4]))),Vr=c.lazy(()=>I(()=>import("./Contact-BV3V5-ta.js"),__vite__mapDeps([12,1,2,3,4]))),qr=c.lazy(()=>I(()=>import("./Cart-Cn_HIthl.js"),__vite__mapDeps([13,1,2,3,4]))),Gr=c.lazy(()=>I(()=>import("./Orders-3eRYnzRZ.js"),__vite__mapDeps([14,1,2,3,4]))),Ur=c.lazy(()=>I(()=>import("./Dashboard-BygDhsWP.js"),__vite__mapDeps([15,1,2,3,4]))),Qr=c.lazy(()=>I(()=>import("./Users-CQwZvWXz.js"),__vite__mapDeps([16,1,2,3,4]))),Wr=c.lazy(()=>I(()=>import("./Orders-Dio2Q_1c.js"),__vite__mapDeps([17,1,2,3,4]))),Kr=c.lazy(()=>I(()=>import("./Catalog-DBpD98dk.js"),__vite__mapDeps([18,1,2,3,4]))),Yr=c.lazy(()=>I(()=>import("./GameKeys-S9U94xCC.js"),__vite__mapDeps([19,1,2,3,4]))),Xr=c.lazy(()=>I(()=>import("./Settings-BORWzfef.js"),__vite__mapDeps([20,1,2,3,4]))),Jr=c.lazy(()=>I(()=>import("./AdminLayout-BiMyQkZJ.js"),__vite__mapDeps([21,1,2,3,4]))),Zr=Vt([{path:"/",element:s.jsx(O,{children:s.jsx(Dr,{})}),children:[{index:!0,element:s.jsx(O,{children:s.jsx(Mr,{})})},{path:"games",element:s.jsx(O,{children:s.jsx(Hr,{})})},{path:"contact",element:s.jsx(O,{children:s.jsx(Vr,{})})},{path:"login",element:s.jsx(O,{children:s.jsx(st,{children:s.jsx(zr,{})})})},{path:"register",element:s.jsx(O,{children:s.jsx(st,{children:s.jsx(Nr,{})})})},{path:"profile",element:s.jsx(_e,{children:s.jsx(O,{children:s.jsx(Br,{})})})},{path:"cart",element:s.jsx(_e,{children:s.jsx(O,{children:s.jsx(qr,{})})})},{path:"orders",element:s.jsx(_e,{children:s.jsx(O,{children:s.jsx(Gr,{})})})},{path:"admin",element:s.jsx(Fr,{children:s.jsx(O,{children:s.jsx(Jr,{})})}),children:[{path:"dashboard",element:s.jsx(O,{children:s.jsx(Ur,{})})},{path:"users",element:s.jsx(O,{children:s.jsx(Qr,{})})},{path:"orders",element:s.jsx(O,{children:s.jsx(Wr,{})})},{path:"catalog",element:s.jsx(O,{children:s.jsx(Kr,{})})},{path:"game-keys",element:s.jsx(O,{children:s.jsx(Yr,{})})},{path:"settings",element:s.jsx(O,{children:s.jsx(Xr,{})})}]},{path:"*",element:s.jsx(qt,{to:"/",replace:!0})}]}]),es={items:[],totalAmount:0,totalQuantity:0},xt=J({name:"cart",initialState:es,reducers:{addToCart:(t,e)=>{const r=e.payload;if(t.items.find(a=>a.id===r.id)){u.info("Игра уже в корзине");return}t.items.push({...r,quantity:1,total:r.price}),t.totalQuantity++,t.totalAmount+=r.price,u.success("Игра добавлена в корзину")},updateQuantity:(t,e)=>{const{id:r,quantity:n}=e.payload,a=t.items.find(i=>i.id===r);if(a){const i=n-a.quantity;a.quantity=n,a.total=a.price*n,t.totalQuantity+=i,t.totalAmount+=a.price*i,u.success("Количество обновлено")}},removeFromCart:(t,e)=>{const r=e.payload;t.items.find(a=>a.id===r)&&(t.items=t.items.filter(a=>a.id!==r),t.totalQuantity--,t.totalAmount=t.items.reduce((a,i)=>a+i.total,0),u.success("Игра удалена из корзины"))},clearCart:t=>{t.items=[],t.totalQuantity=0,t.totalAmount=0,u.success("Корзина очищена")}}}),{addToCart:js,removeFromCart:_s,clearCart:Cs,updateQuantity:Es}=xt.actions,ts=xt.reducer,at={games:[],game:null,isLoading:!1,error:null,filters:{search:"",genre:"",platform:"",priceRange:[0,1e4],sortBy:"createdAt",sortOrder:"desc"},pagination:{page:1,limit:12,total:0}},Ce=T("games/fetchGames",async({page:t=1,limit:e=12,filters:r={}},{rejectWithValue:n})=>{var a,i;try{const o={page:t,limit:e,...r};o.priceRange&&(o.minPrice=o.priceRange[0],o.maxPrice=o.priceRange[1],delete o.priceRange);const l=await v.get("/games",{params:o});if(!l.data.success)throw new Error(l.data.message||"Failed to fetch games");return{games:l.data.data,total:l.data.total||l.data.data.length,page:t,limit:e}}catch(o){return n(((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"Ошибка загрузки игр")}}),Ee=T("games/fetchGameById",async(t,{rejectWithValue:e})=>{var r,n;try{const a=await v.get(`/games/${t}`);if(!a.data.success)throw new Error(a.data.message||"Failed to fetch game");return a.data.data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message||"Ошибка загрузки игры")}}),vt=J({name:"games",initialState:at,reducers:{setFilters:(t,e)=>{t.filters={...t.filters,...e.payload}},setPage:(t,e)=>{t.pagination.page=e.payload},resetFilters:t=>{t.filters=at.filters,t.pagination.page=1},clearGameDetails:t=>{t.game=null}},extraReducers:t=>{t.addCase(Ce.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ce.fulfilled,(e,r)=>{e.isLoading=!1,e.games=r.payload.games,e.pagination={...e.pagination,page:r.payload.page,limit:r.payload.limit,total:r.payload.total}}).addCase(Ce.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Ошибка загрузки игр"}).addCase(Ee.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ee.fulfilled,(e,r)=>{e.isLoading=!1,e.game=r.payload}).addCase(Ee.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Ошибка загрузки игры"})}}),{setFilters:Ls,setPage:bs,resetFilters:Ts,clearGameDetails:Is}=vt.actions,rs=vt.reducer,ss={orders:[],order:null,isLoading:!1,error:null,pagination:{page:1,limit:10,total:0}},Le=T("orders/fetchOrders",async({page:t,limit:e},{rejectWithValue:r})=>{var n,a;try{return(await v.get("/orders",{params:{page:t,limit:e}})).data}catch(i){return r(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Ошибка загрузки заказов")}}),be=T("orders/fetchOrderById",async(t,{rejectWithValue:e})=>{var r,n;try{return(await v.get(`/orders/${t}`)).data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка загрузки заказа")}}),Te=T("orders/createOrder",async(t,{rejectWithValue:e})=>{var r,n,a,i;try{const o=await v.post("/orders",t);return u.success("Заказ успешно создан"),o.data}catch(o){return u.error(((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка создания заказа"),e(((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||"Ошибка создания заказа")}}),Ie=T("orders/updateOrderStatus",async({id:t,status:e},{rejectWithValue:r})=>{var n,a,i,o;try{const l=await v.patch(`/orders/${t}/status`,{status:e});return u.success("Статус заказа обновлен"),l.data}catch(l){return u.error(((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Ошибка обновления статуса"),r(((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||"Ошибка обновления статуса")}}),as=J({name:"orders",initialState:ss,reducers:{setPage:(t,e)=>{t.pagination.page=e.payload},clearOrderDetails:t=>{t.order=null}},extraReducers:t=>{t.addCase(Le.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Le.fulfilled,(e,r)=>{e.isLoading=!1,e.orders=r.payload.orders,e.pagination.total=r.payload.total}).addCase(Le.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(be.pending,e=>{e.isLoading=!0,e.error=null}).addCase(be.fulfilled,(e,r)=>{e.isLoading=!1,e.order=r.payload}).addCase(be.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Te.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Te.fulfilled,(e,r)=>{e.isLoading=!1,e.orders.unshift(r.payload)}).addCase(Te.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ie.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ie.fulfilled,(e,r)=>{var a;e.isLoading=!1;const n=e.orders.findIndex(i=>i.id===r.payload.id);n!==-1&&(e.orders[n]=r.payload),((a=e.order)==null?void 0:a.id)===r.payload.id&&(e.order=r.payload)}).addCase(Ie.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),ns=as.reducer,os={users:[],user:null,isLoading:!1,error:null,pagination:{page:1,limit:10,total:0}},Re=T("users/fetchUsers",async({page:t,limit:e},{rejectWithValue:r})=>{var n,a;try{return(await v.get("/users",{params:{page:t,limit:e}})).data}catch(i){return r(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Ошибка загрузки пользователей")}}),Oe=T("users/fetchUserById",async(t,{rejectWithValue:e})=>{var r,n;try{return(await v.get(`/users/${t}`)).data}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка загрузки пользователя")}}),we=T("users/updateUser",async({id:t,userData:e},{rejectWithValue:r})=>{var n,a,i,o;try{const l=await v.patch(`/users/${t}`,e);return u.success("Данные пользователя обновлены"),l.data}catch(l){return u.error(((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Ошибка обновления пользователя"),r(((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||"Ошибка обновления пользователя")}}),Se=T("users/deleteUser",async(t,{rejectWithValue:e})=>{var r,n,a,i;try{return await v.delete(`/users/${t}`),u.success("Пользователь удален"),t}catch(o){return u.error(((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка удаления пользователя"),e(((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||"Ошибка удаления пользователя")}}),is=J({name:"users",initialState:os,reducers:{setPage:(t,e)=>{t.pagination.page=e.payload},clearUserDetails:t=>{t.user=null}},extraReducers:t=>{t.addCase(Re.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Re.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload.users,e.pagination.total=r.payload.total}).addCase(Re.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Oe.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oe.fulfilled,(e,r)=>{e.isLoading=!1,e.user=r.payload}).addCase(Oe.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(we.pending,e=>{e.isLoading=!0,e.error=null}).addCase(we.fulfilled,(e,r)=>{var a;e.isLoading=!1;const n=e.users.findIndex(i=>i.id===r.payload.id);n!==-1&&(e.users[n]=r.payload),((a=e.user)==null?void 0:a.id)===r.payload.id&&(e.user=r.payload)}).addCase(we.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Se.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Se.fulfilled,(e,r)=>{var n;e.isLoading=!1,e.users=e.users.filter(a=>a.id!==r.payload),((n=e.user)==null?void 0:n.id)===r.payload&&(e.user=null)}).addCase(Se.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),ls=is.reducer,jt={getSettings:async()=>(await v.get("/settings")).data,updateSettings:async t=>(await v.put("/settings",t)).data},Ae=T("settings/fetchSettings",async(t,{rejectWithValue:e})=>{var r,n;try{return await jt.getSettings()}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка загрузки настроек")}}),Pe=T("settings/updateSettings",async(t,{rejectWithValue:e})=>{var r,n;try{return await jt.updateSettings(t)}catch(a){return e(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Ошибка обновления настроек")}}),ds={settings:null,isLoading:!1,error:null,isInitialized:!1},cs=J({name:"settings",initialState:ds,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(Ae.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ae.fulfilled,(e,r)=>{e.isLoading=!1,e.settings=r.payload,e.error=null,e.isInitialized=!0}).addCase(Ae.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,e.isInitialized=!0}).addCase(Pe.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pe.fulfilled,(e,r)=>{e.isLoading=!1,e.settings=r.payload,e.error=null}).addCase(Pe.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),us=cs.reducer,ps=Ut({reducer:{auth:ir,cart:ts,games:rs,orders:ns,users:ls,settings:us},middleware:t=>t({serializableCheck:{ignoredActions:["auth/login/fulfilled","auth/register/fulfilled","auth/checkStatus/fulfilled"],ignoredPaths:["auth.user","auth.error"]}})});$e.createRoot(document.getElementById("root")).render(s.jsx(C.StrictMode,{children:s.jsxs(Qt,{store:ps,children:[s.jsx(Gt,{router:Zr}),s.jsx(ke,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}));export{Ue as L,u as Q,Ls as a,js as b,Es as c,_s as d,Cs as e,Ce as f,Le as g,v as h,xs as i,Ae as j,Pe as k,xe as l,jt as m,pt as n,je as o,ys as p,ye as r,bs as s,he as u};
