import{u as v,a as E,R as x,j as e,L as T,z as W,B as h}from"./index-DwH2koU-.js";import{A as q,I as r,L as f}from"./AuthLayout-BrBTBxDM.js";import{u as B}from"./index.esm-fdAhhs8f.js";import{c as L,a as o,b as k,o as R}from"./yup-D4ws8IoQ.js";import{B as w,a,b as F,T as U}from"./TextField-DxDDlAFJ.js";import{U as $}from"./user-Bv4nJ-yk.js";import{M as D}from"./mail-BUTMhzhL.js";import{I as j}from"./IconButton-DsQYPE88.js";import{E as g}from"./eye-off-Cx_2MjK-.js";import{E as b}from"./eye-RRX6OTpV.js";import"./Container-_yIFp-Is.js";const M=L({name:o().required("Имя обязательно").min(2,"Имя должно содержать минимум 2 символа"),email:o().email("Введите корректный email").required("Email обязателен"),password:o().required("Пароль обязателен").min(6,"Пароль должен содержать минимум 6 символов"),confirmPassword:o().required("Подтвердите пароль").oneOf([k("password")],"Пароли не совпадают")}).required();function _(){var d,p,c,u;const y=v(),P=E(),[i,A]=x.useState(!1),[n,z]=x.useState(!1),{register:t,handleSubmit:S,formState:{errors:s,isSubmitting:l}}=B({resolver:R(M)}),C=async m=>{try{await y(W(m)).unwrap(),h.success("Регистрация успешна!"),P("/")}catch(I){h.error(I.message||"Ошибка при регистрации")}};return e.jsx(q,{title:"Регистрация",subtitle:"Создайте свой аккаунт для доступа к системе",children:e.jsxs(w,{component:"form",onSubmit:S(C),sx:{width:"100%",mt:1},children:[e.jsx(a,{margin:"normal",fullWidth:!0,id:"name",label:"Имя",autoComplete:"name",autoFocus:!0,error:!!s.name,helperText:(d=s.name)==null?void 0:d.message,InputProps:{startAdornment:e.jsx(r,{position:"start",children:e.jsx($,{size:20})})},...t("name")}),e.jsx(a,{margin:"normal",fullWidth:!0,id:"email",label:"Email",autoComplete:"email",error:!!s.email,helperText:(p=s.email)==null?void 0:p.message,InputProps:{startAdornment:e.jsx(r,{position:"start",children:e.jsx(D,{size:20})})},...t("email")}),e.jsx(a,{margin:"normal",fullWidth:!0,label:"Пароль",type:i?"text":"password",id:"password",autoComplete:"new-password",error:!!s.password,helperText:(c=s.password)==null?void 0:c.message,InputProps:{startAdornment:e.jsx(r,{position:"start",children:e.jsx(f,{size:20})}),endAdornment:e.jsx(r,{position:"end",children:e.jsx(j,{"aria-label":"toggle password visibility",onClick:()=>A(!i),edge:"end",children:i?e.jsx(g,{size:20}):e.jsx(b,{size:20})})})},...t("password")}),e.jsx(a,{margin:"normal",fullWidth:!0,label:"Подтверждение пароля",type:n?"text":"password",id:"confirmPassword",autoComplete:"new-password",error:!!s.confirmPassword,helperText:(u=s.confirmPassword)==null?void 0:u.message,InputProps:{startAdornment:e.jsx(r,{position:"start",children:e.jsx(f,{size:20})}),endAdornment:e.jsx(r,{position:"end",children:e.jsx(j,{"aria-label":"toggle password visibility",onClick:()=>z(!n),edge:"end",children:n?e.jsx(g,{size:20}):e.jsx(b,{size:20})})})},...t("confirmPassword")}),e.jsx(F,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:l,children:l?"Регистрация...":"Зарегистрироваться"}),e.jsx(w,{sx:{textAlign:"center"},children:e.jsxs(U,{variant:"body2",color:"text.secondary",children:["Уже есть аккаунт?"," ",e.jsx(T,{to:"/login",style:{textDecoration:"none",fontWeight:500,color:m=>m.palette.primary.main},children:"Войти"})]})})]})})}export{_ as default};
