import{r as v,j as e,u as E,b as T,d as C,B as j,i as b,s as M}from"./index-DwH2koU-.js";import{u as W}from"./index.esm-fdAhhs8f.js";import{c as q,a as l,o as N}from"./yup-D4ws8IoQ.js";import{B as P,T as a,P as y,a as c,b as w}from"./TextField-DxDDlAFJ.js";import{C as F}from"./Container-_yIFp-Is.js";import{G as x}from"./Grid-DxnEAkBs.js";import{P as G}from"./phone-DirJYGBP.js";import{M as I}from"./mail-BUTMhzhL.js";import{M as $}from"./map-pin-CSTaY3jG.js";const D=q({name:l().required("Имя обязательно").min(2,"Имя должно содержать минимум 2 символа"),email:l().email("Введите корректный email").required("Email обязателен"),message:l().required("Сообщение обязательно").min(10,"Сообщение должно содержать минимум 10 символов")}).required(),u=v.memo(({icon:r,text:i})=>e.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(r,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsx(a,{variant:"body1",color:"textSecondary",children:i})]}));function Q(){var p,g,f;const r=E(),{loading:i,error:o,success:d}=T(m=>m.contact),{settings:t}=C(),{register:n,handleSubmit:S,reset:h,formState:{errors:s}}=W({resolver:N(D)});v.useEffect(()=>{d&&(j.success("Сообщение отправлено! Мы свяжемся с вами в ближайшее время."),h(),r(b())),o&&(j.error(o||"Произошла ошибка при отправке сообщения"),r(b()))},[d,o,h,r]);const B=m=>{r(M(m))};return e.jsxs(F,{maxWidth:"md",sx:{py:8},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",color:"textPrimary",children:"Свяжитесь с нами"}),e.jsxs(x,{container:!0,spacing:4,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(y,{elevation:3,sx:{p:4},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"textPrimary",children:"Контактная информация"}),e.jsxs(P,{sx:{mt:2},children:[t.general.phoneNumber&&e.jsx(u,{icon:G,text:t.general.phoneNumber}),t.general.supportEmail&&e.jsx(u,{icon:I,text:t.general.supportEmail}),t.general.address&&e.jsx(u,{icon:$,text:t.general.address})]})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(y,{elevation:3,sx:{p:4},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"textPrimary",children:"Форма обратной связи"}),e.jsxs("form",{onSubmit:S(B),children:[e.jsx(c,{label:"Имя",fullWidth:!0,margin:"normal",...n("name"),error:!!s.name,helperText:(p=s.name)==null?void 0:p.message}),e.jsx(c,{label:"Email",fullWidth:!0,margin:"normal",...n("email"),error:!!s.email,helperText:(g=s.email)==null?void 0:g.message}),e.jsx(c,{label:"Сообщение",fullWidth:!0,margin:"normal",multiline:!0,rows:4,...n("message"),error:!!s.message,helperText:(f=s.message)==null?void 0:f.message}),e.jsx(w,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:3},disabled:i,children:"Отправить"})]})]})})]})]})}export{Q as default};
