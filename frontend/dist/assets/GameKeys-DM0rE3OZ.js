import{j as t,r as p,k as m,t as q,B as O}from"./index-DwH2koU-.js";import{g as I,c as M,i as U,s as y,P as G,f as C,m as N,j as A,o as ae,h as D,A as oe,C as te,l as Q,D as Re,M as ke,p as Ie,E as Ae,G as De,T as se,d as Pe,r as Be,L as re,H as Ne,I as We,k as P,B as E,b as K,J as He,K as ze,S as Oe,a as ne}from"./TextField-DxDDlAFJ.js";import{P as le}from"./plus-0EBTAZyH.js";import{I as V}from"./IconButton-DsQYPE88.js";import{E as Le}from"./eye-off-Cx_2MjK-.js";import{E as Ue}from"./eye-RRX6OTpV.js";import{T as ie}from"./trash-2-BKVHqOXb.js";import{d as ce}from"./dividerClasses-CIrFr87N.js";function Fe(e){return I("MuiAlert",e)}const de=M("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Ee=U(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Ke=U(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Ve=U(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Ge=U(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),_e=U(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Xe=e=>{const{variant:o,color:s,severity:a,classes:l}=e,n={root:["root",`color${C(s||a)}`,`${o}${C(s||a)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return D(n,Fe,l)},Ye=y(G,{name:"MuiAlert",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,o[s.variant],o[`${s.variant}${C(s.color||s.severity)}`]]}})(N(({theme:e})=>{const o=e.palette.mode==="light"?oe:te,s=e.palette.mode==="light"?te:oe;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Q(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:o(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:s(e.palette[a].light,.9),[`& .${de.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Q(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:o(e.palette[a].light,.6),border:`1px solid ${(e.vars||e).palette[a].light}`,[`& .${de.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Q(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${a}FilledColor`],backgroundColor:e.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main,color:e.palette.getContrastText(e.palette[a].main)}}}))]}})),Je=y("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,o)=>o.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ze=y("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,o)=>o.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),pe=y("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,o)=>o.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ue={success:t.jsx(Ee,{fontSize:"inherit"}),warning:t.jsx(Ke,{fontSize:"inherit"}),error:t.jsx(Ve,{fontSize:"inherit"}),info:t.jsx(Ge,{fontSize:"inherit"})},ge=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiAlert"}),{action:l,children:n,className:c,closeText:i="Close",color:d,components:v={},componentsProps:g={},icon:f,iconMapping:T=ue,onClose:x,role:h="alert",severity:j="success",slotProps:b={},slots:w={},variant:S="standard",...$}=a,r={...a,color:d,severity:j,variant:S,colorSeverity:d||j},u=Xe(r),R={slots:{closeButton:v.CloseButton,closeIcon:v.CloseIcon,...w},slotProps:{...g,...b}},[B,W]=ae("closeButton",{elementType:V,externalForwardedProps:R,ownerState:r}),[H,X]=ae("closeIcon",{elementType:_e,externalForwardedProps:R,ownerState:r});return t.jsxs(Ye,{role:h,elevation:0,ownerState:r,className:m(u.root,c),ref:s,...$,children:[f!==!1?t.jsx(Je,{ownerState:r,className:u.icon,children:f||T[j]||ue[j]}):null,t.jsx(Ze,{ownerState:r,className:u.message,children:n}),l!=null?t.jsx(pe,{ownerState:r,className:u.action,children:l}):null,l==null&&x?t.jsx(pe,{ownerState:r,className:u.action,children:t.jsx(B,{size:"small","aria-label":i,title:i,color:"inherit",onClick:x,...W,children:t.jsx(H,{fontSize:"small",...X})})}):null]})});function qe(e){return I("MuiDialog",e)}const ee=M("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),je=p.createContext({}),Qe=y(Re,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),eo=e=>{const{classes:o,scroll:s,maxWidth:a,fullWidth:l,fullScreen:n}=e,c={root:["root"],container:["container",`scroll${C(s)}`],paper:["paper",`paperScroll${C(s)}`,`paperWidth${C(String(a))}`,l&&"paperFullWidth",n&&"paperFullScreen"]};return D(c,qe,o)},oo=y(ke,{name:"MuiDialog",slot:"Root",overridesResolver:(e,o)=>o.root})({"@media print":{position:"absolute !important"}}),to=y("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.container,o[`scroll${C(s.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),so=y(G,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.paper,o[`scrollPaper${C(s.scroll)}`],o[`paperWidth${C(String(s.maxWidth))}`],s.fullWidth&&o.paperFullWidth,s.fullScreen&&o.paperFullScreen]}})(N(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:o})=>!o.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ee.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(o=>o!=="xs").map(o=>({props:{maxWidth:o},style:{maxWidth:`${e.breakpoints.values[o]}${e.breakpoints.unit}`,[`&.${ee.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:o})=>o.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:o})=>o.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ee.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),ao=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiDialog"}),l=Ie(),n={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":i,"aria-modal":d=!0,BackdropComponent:v,BackdropProps:g,children:f,className:T,disableEscapeKeyDown:x=!1,fullScreen:h=!1,fullWidth:j=!1,maxWidth:b="sm",onBackdropClick:w,onClick:S,onClose:$,open:r,PaperComponent:u=G,PaperProps:R={},scroll:B="paper",TransitionComponent:W=De,transitionDuration:H=n,TransitionProps:X,...Me}=a,F={...a,disableEscapeKeyDown:x,fullScreen:h,fullWidth:j,maxWidth:b,scroll:B},Y=eo(F),J=p.useRef(),Se=z=>{J.current=z.target===z.currentTarget},Te=z=>{S&&S(z),J.current&&(J.current=null,w&&w(z),$&&$(z,"backdropClick"))},Z=Ae(i),$e=p.useMemo(()=>({titleId:Z}),[Z]);return t.jsx(oo,{className:m(Y.root,T),closeAfterTransition:!0,components:{Backdrop:Qe},componentsProps:{backdrop:{transitionDuration:H,as:v,...g}},disableEscapeKeyDown:x,onClose:$,open:r,ref:s,onClick:Te,ownerState:F,...Me,children:t.jsx(W,{appear:!0,in:r,timeout:H,role:"presentation",...X,children:t.jsx(to,{className:m(Y.container),onMouseDown:Se,ownerState:F,children:t.jsx(so,{as:u,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":Z,"aria-modal":d,...R,className:m(Y.paper,R.className),ownerState:F,children:t.jsx(je.Provider,{value:$e,children:f})})})})})});function ro(e){return I("MuiDialogActions",e)}M("MuiDialogActions",["root","spacing"]);const no=e=>{const{classes:o,disableSpacing:s}=e;return D({root:["root",!s&&"spacing"]},ro,o)},lo=y("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,!s.disableSpacing&&o.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),io=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiDialogActions"}),{className:l,disableSpacing:n=!1,...c}=a,i={...a,disableSpacing:n},d=no(i);return t.jsx(lo,{className:m(d.root,l),ownerState:i,ref:s,...c})});function co(e){return I("MuiDialogContent",e)}M("MuiDialogContent",["root","dividers"]);function po(e){return I("MuiDialogTitle",e)}const uo=M("MuiDialogTitle",["root"]),go=e=>{const{classes:o,dividers:s}=e;return D({root:["root",s&&"dividers"]},co,o)},vo=y("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,s.dividers&&o.dividers]}})(N(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:o})=>o.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:o})=>!o.dividers,style:{[`.${uo.root} + &`]:{paddingTop:0}}}]}))),fo=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiDialogContent"}),{className:l,dividers:n=!1,...c}=a,i={...a,dividers:n},d=go(i);return t.jsx(vo,{className:m(d.root,l),ownerState:i,ref:s,...c})}),xo=e=>{const{classes:o}=e;return D({root:["root"]},po,o)},yo=y(se,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),bo=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiDialogTitle"}),{className:l,id:n,...c}=a,i=a,d=xo(i),{titleId:v=n}=p.useContext(je);return t.jsx(yo,{component:"h2",className:m(d.root,l),ownerState:i,ref:s,variant:"h6",id:n??v,...c})}),ve=M("MuiListItemIcon",["root","alignItemsFlexStart"]),fe=M("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function mo(e){return I("MuiMenuItem",e)}const L=M("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Co=(e,o)=>{const{ownerState:s}=e;return[o.root,s.dense&&o.dense,s.divider&&o.divider,!s.disableGutters&&o.gutters]},ho=e=>{const{disabled:o,dense:s,divider:a,disableGutters:l,selected:n,classes:c}=e,d=D({root:["root",s&&"dense",o&&"disabled",!l&&"gutters",a&&"divider",n&&"selected"]},mo,c);return{...c,...d}},jo=y(Pe,{shouldForwardProp:e=>Be(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Co})(N(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${L.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${L.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${L.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${L.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${ce.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${ce.inset}`]:{marginLeft:52},[`& .${fe.root}`]:{marginTop:0,marginBottom:0},[`& .${fe.inset}`]:{paddingLeft:36},[`& .${ve.root}`]:{minWidth:36},variants:[{props:({ownerState:o})=>!o.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:o})=>o.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:o})=>!o.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:o})=>o.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${ve.root} svg`]:{fontSize:"1.25rem"}}}]}))),wo=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiMenuItem"}),{autoFocus:l=!1,component:n="li",dense:c=!1,divider:i=!1,disableGutters:d=!1,focusVisibleClassName:v,role:g="menuitem",tabIndex:f,className:T,...x}=a,h=p.useContext(re),j=p.useMemo(()=>({dense:c||h.dense||!1,disableGutters:d}),[h.dense,c,d]),b=p.useRef(null);Ne(()=>{l&&b.current&&b.current.focus()},[l]);const w={...a,dense:j.dense,divider:i,disableGutters:d},S=ho(a),$=We(b,s);let r;return a.disabled||(r=f!==void 0?f:-1),t.jsx(re.Provider,{value:j,children:t.jsx(jo,{ref:$,role:g,tabIndex:r,component:n,focusVisibleClassName:m(S.focusVisible,v),className:m(S.root,T),...x,ownerState:w,classes:S})})}),we=p.createContext();function Mo(e){return I("MuiTable",e)}M("MuiTable",["root","stickyHeader"]);const So=e=>{const{classes:o,stickyHeader:s}=e;return D({root:["root",s&&"stickyHeader"]},Mo,o)},To=y("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,s.stickyHeader&&o.stickyHeader]}})(N(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:o})=>o.stickyHeader,style:{borderCollapse:"separate"}}]}))),xe="table",$o=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiTable"}),{className:l,component:n=xe,padding:c="normal",size:i="medium",stickyHeader:d=!1,...v}=a,g={...a,component:n,padding:c,size:i,stickyHeader:d},f=So(g),T=p.useMemo(()=>({padding:c,size:i,stickyHeader:d}),[c,i,d]);return t.jsx(we.Provider,{value:T,children:t.jsx(To,{as:n,role:n===xe?null:"table",ref:s,className:m(f.root,l),ownerState:g,...v})})}),_=p.createContext();function Ro(e){return I("MuiTableBody",e)}M("MuiTableBody",["root"]);const ko=e=>{const{classes:o}=e;return D({root:["root"]},Ro,o)},Io=y("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-row-group"}),Ao={variant:"body"},ye="tbody",Do=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiTableBody"}),{className:l,component:n=ye,...c}=a,i={...a,component:n},d=ko(i);return t.jsx(_.Provider,{value:Ao,children:t.jsx(Io,{className:m(d.root,l),as:n,ref:s,role:n===ye?null:"rowgroup",ownerState:i,...c})})});function Po(e){return I("MuiTableCell",e)}const Bo=M("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),No=e=>{const{classes:o,variant:s,align:a,padding:l,size:n,stickyHeader:c}=e,i={root:["root",s,c&&"stickyHeader",a!=="inherit"&&`align${C(a)}`,l!=="normal"&&`padding${C(l)}`,`size${C(n)}`]};return D(i,Po,o)},Wo=y("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,o[s.variant],o[`size${C(s.size)}`],s.padding!=="normal"&&o[`padding${C(s.padding)}`],s.align!=="inherit"&&o[`align${C(s.align)}`],s.stickyHeader&&o.stickyHeader]}})(N(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?te(P(e.palette.divider,1),.88):oe(P(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Bo.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:o})=>o.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),k=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiTableCell"}),{align:l="inherit",className:n,component:c,padding:i,scope:d,size:v,sortDirection:g,variant:f,...T}=a,x=p.useContext(we),h=p.useContext(_),j=h&&h.variant==="head";let b;c?b=c:b=j?"th":"td";let w=d;b==="td"?w=void 0:!w&&j&&(w="col");const S=f||h&&h.variant,$={...a,align:l,component:b,padding:i||(x&&x.padding?x.padding:"normal"),size:v||(x&&x.size?x.size:"medium"),sortDirection:g,stickyHeader:S==="head"&&x&&x.stickyHeader,variant:S},r=No($);let u=null;return g&&(u=g==="asc"?"ascending":"descending"),t.jsx(Wo,{as:b,ref:s,className:m(r.root,n),"aria-sort":u,scope:w,ownerState:$,...T})});function Ho(e){return I("MuiTableContainer",e)}M("MuiTableContainer",["root"]);const zo=e=>{const{classes:o}=e;return D({root:["root"]},Ho,o)},Oo=y("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,o)=>o.root})({width:"100%",overflowX:"auto"}),Lo=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiTableContainer"}),{className:l,component:n="div",...c}=a,i={...a,component:n},d=zo(i);return t.jsx(Oo,{ref:s,as:n,className:m(d.root,l),ownerState:i,...c})});function Uo(e){return I("MuiTableHead",e)}M("MuiTableHead",["root"]);const Fo=e=>{const{classes:o}=e;return D({root:["root"]},Uo,o)},Eo=y("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-header-group"}),Ko={variant:"head"},be="thead",Vo=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiTableHead"}),{className:l,component:n=be,...c}=a,i={...a,component:n},d=Fo(i);return t.jsx(_.Provider,{value:Ko,children:t.jsx(Eo,{as:n,className:m(d.root,l),ref:s,role:n===be?null:"rowgroup",ownerState:i,...c})})});function Go(e){return I("MuiTableRow",e)}const me=M("MuiTableRow",["root","selected","hover","head","footer"]),_o=e=>{const{classes:o,selected:s,hover:a,head:l,footer:n}=e;return D({root:["root",s&&"selected",a&&"hover",l&&"head",n&&"footer"]},Go,o)},Xo=y("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,s.head&&o.head,s.footer&&o.footer]}})(N(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${me.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${me.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),Ce="tr",he=p.forwardRef(function(o,s){const a=A({props:o,name:"MuiTableRow"}),{className:l,component:n=Ce,hover:c=!1,selected:i=!1,...d}=a,v=p.useContext(_),g={...a,component:n,hover:c,selected:i,head:v&&v.variant==="head",footer:v&&v.variant==="footer"},f=_o(g);return t.jsx(Xo,{as:n,ref:s,className:m(f.root,l),role:n===Ce?null:"row",ownerState:g,...d})});function st(){const[e,o]=p.useState([]),[s,a]=p.useState([]),[l,n]=p.useState(!0),[c,i]=p.useState(!1),[d,v]=p.useState(""),[g,f]=p.useState([{login:"",password:""}]),[T,x]=p.useState({});p.useEffect(()=>{h()},[]);const h=async()=>{try{const[r,u]=await Promise.all([q.get("/api/games"),q.get("/api/game-keys/all")]);o(r.data),a(u.data)}catch(r){O.error("Ошибка при загрузке данных"),console.error(r)}finally{n(!1)}},j=()=>{f([...g,{login:"",password:""}])},b=r=>{const u=g.filter((R,B)=>B!==r);f(u)},w=(r,u,R)=>{const B=g.map((W,H)=>H===r?{...W,[u]:R}:W);f(B)},S=async()=>{try{if(!d){O.error("Выберите игру");return}if(g.some(r=>!r.login||!r.password)){O.error("Заполните все поля");return}await q.post("/api/game-keys/add",{gameId:d,keys:g}),O.success("Ключи успешно добавлены"),i(!1),v(""),f([{login:"",password:""}]),h()}catch(r){O.error("Ошибка при добавлении ключей"),console.error(r)}},$=r=>{x(u=>({...u,[r]:!u[r]}))};return l?t.jsx(E,{sx:{display:"flex",justifyContent:"center",p:3},children:t.jsx(se,{children:"Загрузка..."})}):t.jsxs("div",{children:[t.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(se,{variant:"h5",children:"Управление цифровыми ключами"}),t.jsx(K,{variant:"contained",startIcon:t.jsx(le,{className:"h-4 w-4"}),onClick:()=>i(!0),children:"Добавить ключи"})]}),t.jsx(Lo,{component:G,children:t.jsxs($o,{children:[t.jsx(Vo,{children:t.jsxs(he,{children:[t.jsx(k,{children:"Игра"}),t.jsx(k,{children:"Логин"}),t.jsx(k,{children:"Пароль"}),t.jsx(k,{children:"Статус"}),t.jsx(k,{children:"Покупатель"}),t.jsx(k,{children:"Действия"})]})}),t.jsx(Do,{children:s.map(r=>t.jsxs(he,{children:[t.jsx(k,{children:r.game.title}),t.jsx(k,{children:r.login}),t.jsx(k,{children:t.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[T[r._id]?r.password:"••••••••",t.jsx(V,{size:"small",onClick:()=>$(r._id),children:T[r._id]?t.jsx(Le,{className:"h-4 w-4"}):t.jsx(Ue,{className:"h-4 w-4"})})]})}),t.jsx(k,{children:r.is_sold?t.jsx(ge,{severity:"error",sx:{py:0},children:"Продан"}):t.jsx(ge,{severity:"success",sx:{py:0},children:"Доступен"})}),t.jsx(k,{children:r.buyer?r.buyer.email:"-"}),t.jsx(k,{children:t.jsx(V,{color:"error",onClick:()=>{},children:t.jsx(ie,{className:"h-4 w-4"})})})]},r._id))})]})}),t.jsxs(ao,{open:c,onClose:()=>i(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(bo,{children:"Добавить цифровые ключи"}),t.jsxs(fo,{children:[t.jsxs(He,{fullWidth:!0,sx:{mt:2,mb:2},children:[t.jsx(ze,{children:"Игра"}),t.jsx(Oe,{value:d,onChange:r=>v(r.target.value),label:"Игра",children:e.filter(r=>r.isDigital).map(r=>t.jsx(wo,{value:r._id,children:r.title},r._id))})]}),g.map((r,u)=>t.jsxs(E,{sx:{display:"flex",gap:2,mb:2},children:[t.jsx(ne,{label:"Логин",value:r.login,onChange:R=>w(u,"login",R.target.value),fullWidth:!0}),t.jsx(ne,{label:"Пароль",value:r.password,onChange:R=>w(u,"password",R.target.value),fullWidth:!0,type:"password"}),u>0&&t.jsx(V,{color:"error",onClick:()=>b(u),children:t.jsx(ie,{className:"h-4 w-4"})})]},u)),t.jsx(K,{startIcon:t.jsx(le,{className:"h-4 w-4"}),onClick:j,sx:{mt:1},children:"Добавить еще ключ"})]}),t.jsxs(io,{children:[t.jsx(K,{onClick:()=>i(!1),children:"Отмена"}),t.jsx(K,{onClick:S,variant:"contained",children:"Сохранить"})]})]})]})}export{st as default};
